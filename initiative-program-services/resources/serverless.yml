# NOTE: update this with your service name
service: initiative-program-resources

# Create an optimized package for our functions
package:
  individually: true

plugins:
  - serverless-bundle # Package our functions with Webpack
  - serverless-offline
  - serverless-dotenv-plugin # Load .env as environment variables

provider:
  name: aws
  runtime: nodejs12.x
  stage: ${opt:stage, 'dev'}
  region: ${opt:region, 'us-east-2'}
  environment:
    OUR_ENV: ${self:provider.stage}
  vpc:
    securityGroupIds: { 'Fn::Split': [',', { 'Fn::ImportValue': 'agency-services-transunion-vpc-natsecuritygroup' }] }
    subnetIds: { 'Fn::Split': [',', { 'Fn::ImportValue': 'agency-services-transunion-subnets-private' }] }
# resources:
#   Resources:
#     InitiativePrograms:
#       Type: AWS::DynamoDB::Table
#       Properties:
#         AttributeDefinitions:
#           - AttributeName: 'userId'
#             AttributeType: 'S'
#           - AttributeName: 'initiativeId'
#             AttributeType: 'S'
#         KeySchema:
#           - AttributeName: 'userId'
#             KeyType: 'HASH'
#           - AttributeName: 'initiativeId'
#             KeyType: 'RANGE'
#         BillingMode: PAY_PER_REQUEST
#         TableName: InitiativePrograms
#         StreamSpecification:
#           StreamViewType: NEW_AND_OLD_IMAGES
